#######################################不可动态配置，需要重启生效#######################################
server.port = 8012
server.servlet.context-path=/
server.servlet.encoding.charset = utf-8
# 文件上传限制（ARM设备可适当调小）
spring.servlet.multipart.max-file-size=100MB
spring.servlet.multipart.max-request-size=100MB
## Freemarker 配置
spring.freemarker.template-loader-path = classpath:/web/
spring.freemarker.cache = false
spring.freemarker.charset = UTF-8
spring.freemarker.check-template-location = true
spring.freemarker.content-type = text/html
spring.freemarker.expose-request-attributes = true
spring.freemarker.expose-session-attributes = true
spring.freemarker.request-context-attribute = request
spring.freemarker.suffix = .ftl
# ARM优化：减少office转换进程数（单端口即可）
office.plugin.server.ports = 2001
# office转换超时时间
office.plugin.task.timeout = 10m
# 文件存储路径（转换中间文件 + 缓存）
file.dir = /tmp/kkFileView
# 禁用本地文件预览（保持 default 即不支持本地文件路径）
local.preview.dir = default
# 缓存配置（ARM使用jdk缓存）
cache.type = jdk
cache.clean.enabled = true
cache.clean.cron = 0 0 2 * * ?
#######################################可在运行时动态配置#######################################
# 修改为您的 kkFileView 实际访问地址（可用环境变量覆盖）
base.url = http://${KK_HOST:localhost}:8012
# 安全配置（如需限制来源域名，可把 default 换成具体域名列表）
trust.host = *
cache.enabled = true
# 文件类型配置（文本扩展一些常见格式）
simText = txt,html,htm,asp,jsp,xml,json,properties,md,gitignore,log,java,py,c,cpp,sql,sh,bat,m,bas,prg,cmd,conf,ini,yml,yaml,js,css
# 媒体文件（仅浏览器原生播放，不转码）
media = mp3,wav,mp4,flv
media.convert.disable = true  # ARM设备禁用视频转换（保留）
convertMedias = avi,mov,wmv,mkv,3gp,rm
# Office预览配置
# 对 Office/PDF 统一转成图片，兼容性最好；如果想 PDF 用原生控件，可换成 pdf
office.preview.type = image
office.preview.switch.disabled = false
# 文本预览增强：富文本模式，支持 JSON/XML 高亮、折叠
textPreviewType = rich
# PDF安全限制（如果是内网环境，可以适当放开）
pdf.presentationMode.disable = false   # 允许全屏播放
pdf.openFile.disable = false           # 允许打开其他PDF
pdf.print.disable = false              # 允许打印
pdf.download.disable = false           # 允许下载
pdf.bookmark.disable = false           # 允许书签
# 安全：禁用文件上传（保持）
file.upload.disable = true
# FTP配置（如不用可保留不动）
ftp.username = ftpuser
ftp.password = 123456
ftp.control.encoding = UTF-8
# 水印配置（如暂不用可保持为空）
watermark.txt =
watermark.x.space = 10
watermark.y.space = 10
watermark.font = 微软雅黑
watermark.fontsize = 18px
watermark.color = black
watermark.alpha = 0.2
watermark.width = 180
watermark.height = 80
watermark.angle = 10
# 其他配置
tif.preview.type = tif
beian = default
prohibit = exe,dll,dat
delete.password = 123456
delete.source.file = true
pdf2jpg.dpi = 144
# Web方式预览开关（保留 web，主要影响在线 Office 方式）
office.type.web = web
# LibreOffice 路径（你已经确认正确）
office.home=/usr/lib64/libreoffice
office.type=libreOffice
# 如需离线安装 LibreOffice/OpenOffice，请将 rpm 包放入 bin/office-plugin/ 后执行 install-office.sh，
# 安装完成若路径不同，可在此配置 office.home（必要时自行创建软链与此路径匹配）。